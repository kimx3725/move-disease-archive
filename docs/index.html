<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Move Disease Archive</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./images/favicon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-e10d1ec5cbdaf3139d26b28d541ec133.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./images/navbar_logo.png" alt="" class="navbar-logo light-content">
    <img src="./images/navbar_logo.png" alt="" class="navbar-logo dark-content">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./studies.html"> 
<span class="menu-text">Studies</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./submission_guide.html"> 
<span class="menu-text">Submission Guide</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./data_req.html"> 
<span class="menu-text">Data Standard</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./participation_agreement.html"> 
<span class="menu-text">Participation Agreement</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./faq.html"> 
<span class="menu-text">FAQ</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/move_disease_archive_logo.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="2000"></p>
</figure>
</div>
<p>The <strong>Move Disease Archive (MDA)</strong> is a global collection of eco-epidemiological datasets that integrate animal movement and other animal-borne sensor data with diagnostic information (e.g., swabs, blood samples) from infected and susceptible wildlife. The archive serves as a resource for researchers seeking to understand how pathogens influence animal behavior, infection spread, and the risk of spillover to domestic animals and humans.</p>
<p>As of November 2025, the MDA is being developed in collaboration with <a href="https://www.movebank.org/cms/movebank-main">Movebank</a>, the Move Biodiversity Observation Network (<a href="https://geobon.org/move-bon/">Move BON</a>), <a href="https://euromammals.org/">Euromammals</a>, and <a href="https://www.viralemergence.org/">Verena Institute</a> to support long-term FAIR (Findable, Accessible, Interoperable, Reusable) data stewardship for wildlife health and disease surveillance (<a href="https://doi.org/10.1038/sdata.2016.18">Wilkinson et al.&nbsp;2016</a>).</p>
<section id="why-a-disease-archive-for-animal-movement" class="level2">
<h2 class="anchored" data-anchor-id="why-a-disease-archive-for-animal-movement">Why a Disease Archive for Animal Movement?</h2>
<p>Wildlife plays an important role in the emergence and spread of infectious diseases, both as hosts and as sources of zoonotic pathogens that threaten human and livestock health. Climate change and shifting species distributions further intensify these risks by altering contact and movement patterns and reshaping pathogen dynamics across ecosystems. Understanding disease dynamics in wildlife populations is crucial for conservation and for reducing the risk of pathogen spillover to livestock and people. However, detecting and monitoring infections in free-ranging animals remains a challenge. Traditional sampling offers only snapshots in time and often misses key stages of infection. Because pathogens can alter host movement, space use, and activity patterns, a collection of infected animal movement data provides a promising tool for disease surveillance. The MDA supports a transferable approach to real-time monitoring of infection in free-ranging wildlife by linking animal movement data and disease-related data such as diagnostic test results and mortality records. The MDA brings together movement ecologists, disease ecologists, and veterinarians to build an early-warning system for wildlife health and support research at the interface of movement and disease ecology.</p>
</section>
<section id="goals-of-the-mda" class="level2">
<h2 class="anchored" data-anchor-id="goals-of-the-mda">Goals of the MDA</h2>
<p>The MDA aims to:</p>
<p>-<strong>Create a global platform</strong>: Manage, share, and archive animal movement datasets that include disease information, diagnostic test results, and mortality outcomes.</p>
<p>-<strong>Provide data standards and submission guidance</strong>: Develop a compatible reporting framework to help data owners include the information needed for disease-focused research.</p>
<p>-<strong>Facilitate collaboration and data discovery</strong>: Enable researchers to identify datasets, connect with data owners, and advance work on infection-driven behavioral change, pathogen transmission, and wildlife health monitoring through biologging methods.</p>
</section>
<section id="how-to-participate" class="level2">
<h2 class="anchored" data-anchor-id="how-to-participate">How to participate</h2>
<p>Read below to find out how you can contribute to the MDA by participating in datasets or initiating new collaborations and beneficial uses of the data.</p>
<section id="data-owners" class="level3">
<h3 class="anchored" data-anchor-id="data-owners">Data owners</h3>
<p>If you would like to contribute your eco-epidemiological data to the MDA, we strongly prefer that you share them through Movebank or another animal tracking data repository. This will make the MDA more widely accessible and facilitate data quality control and processing. For assistance organizing your data on Movebank, contact <a href="mailto:support@movebank.org">support@movebank.org</a> and <a href="mailto:kimx3725@umn.edu">kimx3725@umn.edu</a>. If you are not able to store data on Movebank or another repository, please contact us. In addition to organizing data within Movebank or a similar repository, participation requires:</p>
<p>-<strong>Studies remain publicly discoverable</strong>, and owners are open to considering collaboration requests. They do not need to be publicly downloadable.</p>
<p>-<strong>Data meet basic quality standards</strong>, including accurate formatting and sufficient metadata (See our <a href="./data_req.html">data standards</a> and <a href="./submission_guide.html">Submission Guide</a>).</p>
<p>-<strong>Owner contact information remains up to date</strong>, particularly for studies that are not publicly accessible.</p>
<p>Once your data are ready, please complete the MDA Participation Agreement, after which your study will be reviewed and added to the list of participating projects.</p>
</section>
<section id="data-users" class="level3">
<h3 class="anchored" data-anchor-id="data-users">Data users</h3>
<p>The MDA facilitates access to global eco-epidemiological datasets that pair animal movement with diagnostic information from infected and susceptible wildlife. These resources support research on how pathogens influence animal behavior, infection dynamics, and potential spillover risks to domestic animals and humans. The MDA does not redistribute raw disease or animal-tracking data. All datasets remain under the control of the original data providers, and the MDA functions as a discovery and access platform. Researchers are directed to data owners and must comply with their licensing and ethical requirements prior to use.</p>
<p>The archive is designed to support a wide range of beneficial uses, including:</p>
<p>-<strong>Studies of infection-driven behavioral change</strong><br>
-<strong>Improved understanding of pathogen transmission and spread</strong><br>
-<strong>Wildlife health monitoring through biologging</strong><br>
-<strong>Eco-epidemiological modeling</strong><br>
-<strong>Conservation and management of disease-affected species</strong><br>
-<strong>Education and public engagement</strong></p>
<p>As with all Movebank-hosted data, the MDA includes both public and controlled-access studies. We strongly encourage users to contact data owners about proposed uses, as they can offer critical ecological and diagnostic context. Please also review Movebank’s <a href="https://www.movebank.org/cms/movebank-content/general-movebank-terms-of-use">terms of use</a> and <a href="https://www.movebank.org/cms/movebank-content/data-policy#user_agreement">user agreement</a>. For help with data-sharing requests, contact <a href="mailto:kimx3725@umn.edu">kimx3725@umn.edu</a>.</p>
</section>
</section>
<section id="contact" class="level2">
<h2 class="anchored" data-anchor-id="contact">Contact</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Contact Information
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>MoveDiseaseArchive PI and data curator:</strong> Dongmin (Dennis) Kim<br>
<strong>Organization:</strong> University of Minnesota &amp; Harvard University<br>
<strong>Email:</strong> <a href="mailto:kimx3725@umn.edu">kimx3725@umn.edu</a></p>
<p><strong>MoveDiseaseArchive PI:</strong> Kevin Morelle<br>
<strong>Organization:</strong> Max Planck Institute of Animal Behavior &amp; Minuartia<br>
<strong>Email:</strong> <a href="mailto:kmorelle@ab.mpg.de">kmorelle@ab.mpg.de</a></p>
<p><strong>Movebank data curator:</strong> Sarah Davidson<br>
<strong>Organization:</strong> Max Planck Institute of Animal Behavior<br>
<strong>Email:</strong> <a href="mailto:sdavidson@ab.mpg.de">sdavidson@ab.mpg.de</a></p>
<p><strong>Contributor:</strong> Claire Teitelbum<br>
<strong>Organization:</strong> Georgia Cooperative Fish and Wildlife Research Unit<br>
<strong>Email:</strong> <a href="mailto:cteitelbaum@uga.edu">cteitelbaum@uga.edu</a></p>
<p><strong>Contributor:</strong> Collin Schwantes<br>
<strong>Organization:</strong> Verena Institute, Yale University<br>
<strong>Email:</strong> <a href="mailto:collin.schwantes@yale.edu">collin.schwantes@yale.edu</a></p>
<p><strong>Contributor:</strong> Francesca Cagnacci<br>
<strong>Organization:</strong> Fondazione Edmund Mach &amp; National Biodiversity Future Centre<br>
<strong>Email:</strong> <a href="mailto:francesca.cagnacci@fmach.it">francesca.cagnacci@fmach.it</a></p>
<p><strong>Contributor:</strong> Marta Valldeperes Falgueras<br>
<strong>Organization:</strong> University of Georgia<br>
<strong>Email:</strong> <a href="mailto:marta.valldeperes@uga.edu">marta.valldeperes@uga.edu</a></p>
<p><strong>Contributor:</strong> Will Rogers<br>
<strong>Organization:</strong> Yale University<br>
<strong>Email:</strong> <a href="mailto:will.rogers@yale.edu">will.rogers@yale.edu</a></p>
<p><strong>For technical assistance with Movebank:</strong> <a href="mailto:support@movebank.org">support@movebank.org</a></p>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>