---
title: "Participating Studies & Data Standards"
execute:
  echo: false
format: 
  html:
    page-layout: full
    toc: true
    code-fold: false
    css: styles.css
---

This initiative began in the winter of 2025. If you would like your study to be included in the archive, checkout our [Submission Guide](submission_guide.qmd) or contact us ([kimx3725\@umn.edu](mailto:kimx3725@umn.edu)). 

## Section A: Movebank-derived Movement Data

::: callout-tip
This table is a placeholder for studies derived from Movebank. Columns match the archive data standard.
:::

```{r section A, include=FALSE}
library(DT)
library(dplyr)
library(tibble)
library(readr)

data_columns <- c(
"Study Name",
"Principal Investigator",
"Animal Taxon",
"No. of Animals",
"First deployment",
"Latest deployment",
"Sensor type",
"Pathogen ID",
"Sample collection method",
"Sample material",
"First sample collection date",
"Latest sample collection date",
"Detection target",
"Detection method",
"Detection outcome",
"Detection measurement",
"Detection measurement units",
"Detection measurement method details",
"Detection measurement interpretation",
"Detection limit",
"Detection limit units"
)

section_a_table <- read_csv(
  "data/master_a.csv",
  show_col_types = FALSE
) %>%
  mutate(
    `Study Name` = sprintf(
      '<a href="%s" target="_blank">%s</a>',
      `Study URL`, `Study Name`
    ),
    `Principal Investigator` = sprintf(
      '<a href="mailto:%s">%s</a>',
      `PI Email`, `Principal Investigator`
    )
  ) %>%
  select(
    `Study Name`,
    `Principal Investigator`,
    `Animal Taxon`,
    `No. of Animals`,
    `First deployment`,
    `Latest deployment`,
    `Sensor type`,
    `Pathogen ID`,
    `Sample collection method`,
    `Sample material`,
    `First sample collection date`,
    `Latest sample collection date`,
    `Detection target`,
    `Detection method`,
    `Detection outcome`,
    `Detection measurement`,
    `Detection measurement units`,
    `Detection measurement method details`,
    `Detection measurement interpretation`,
    `Detection limit`,
    `Detection limit units`
  )
```

```{r section-output-A, echo=FALSE, message=FALSE, warning=FALSE}
DT::datatable(
  section_a_table,
  escape = FALSE,
  options = list(
    pageLength = 10,
    scrollX = TRUE,
    autoWidth = TRUE,
    columnDefs = list(
      list(className = 'dt-head-nowrap', targets = "_all"),
      list(className = 'dt-nowrap', targets = "_all")   # Force no wrapping on all cells
    )
  ),
  caption = htmltools::tags$caption(
    style = "caption-side: bottom; text-align: left;",
    "Section A: Movebank-derived studies"
  )
)
```

## Section B: Private Data (Contact Required) \& External Repository Data

::: callout-tip
This table serves as a placeholder for studies that fall into one of the following categories:

- **Private datasets**: Studies that cannot be stored on Movebank due to legal, ethical, or institutional constraints, but still provide descriptive information about their datasets and contact details.

- **External repository datasets**: Studies that are already shared in other public repositories outside of Movebank.
:::

```{r Section B, include=FALSE}
# Create empty table for Section B with same columns
section_b_table <- tibble::tibble(
!!!setNames(rep(list(character()), length(data_columns)), data_columns)
)
```

```{r section B output, output=TRUE, warning=FALSE}
DT::datatable(
  section_b_table,
  options = list(
    pageLength = 10,
    scrollX = TRUE,
    autoWidth = TRUE,
    columnDefs = list(
      list(className = 'dt-head-nowrap', targets = "_all"),
      list(className = 'dt-nowrap', targets = "_all")   # Force single-line
    )
  ),
  caption = htmltools::tags$caption(
    style = "caption-side: bottom; text-align: left;",
    "Section B: Private Data and External Repository Data (empty template)."
  )
)
```